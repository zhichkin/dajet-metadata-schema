# DaJet JSON Schema

**1. Примитивные типы данных.**
- [Неопределенно](#Неопределенно)
- [Булево](#Булево)
- [Число](#Число)
- [Строка](#Строка)
- [Дата](#Дата)
- [УникальныйИдентификатор](#УникальныйИдентификатор)
- [Бинарные данные](#Бинарные-данные)

**2. Ссылочные типы данных.**
- [Ссылка](#Ссылка)
- [Перечисление](#Перечисление)
- [Объект ссылочного типа (документ или справочник)](#Ссылочный-объект)

**3. Наборы записей регистров.**
- [Набор записей (регистры сведений или накопления)](#Набор-записей)

**4. Составной тип данных.**
- [Составной тип](#Составной-тип)

#### Неопределенно
Полностью соответствует типу данных JSON - null.
```json
{ "ИмяСвойства": null }
```

#### Булево
Полностью соответствует типу данных JSON - boolean.
```json
{ "ИмяСвойства": true }
{ "ИмяСвойства": false }
```

#### Число
Полностью соответствует типу данных JSON - number.
```json
{ "ИмяСвойства": 123 }
{ "ИмяСвойства": -123 }
{ "ИмяСвойства": 1.23 }
```

#### Строка
Полностью соответствует типу данных JSON - string.
```json
{ "ИмяСвойства": "Это строковое значение." }
```

#### Дата
Кодируется как строка в формате ISO-8601: yyyy-MM-dd HH:mm:ss.
```json
// 15 января 2022 года 14 часов 30 минут 00 секунд
{ "ИмяСвойства": "2022-01-15 14:30:00" }
```

#### УникальныйИдентификатор
Кодируется как строка UUID.
```json
{ "ИмяСвойства": "26093579-c180-11e4-a7a9-000d884fd00d" }
{ "ИмяСвойства": "00000000-0000-0000-0000-000000000000" }
```

#### Бинарные данные
Бинарные данные кодируются в формате Base64.
```json
{ "ИмяСвойства": "0K3RgtC+INCx0LjQvdCw0YDQvdGL0LUg0LTQsNC90L3Ri9C1" }
```

#### Ссылка
Ссылка - это структура, указывающая на конкретный элемент ссылочного типа данных.
Например, указатель на элемент справочника "Номенклатура" в информационной базе 1С.

Ссылка содержит наименование типа данных и уникальный идентификатор элемента.
```json
// Ссылка кодируется как объект JSON, имеющий два свойства: type и value.
{
   "type": "Справочник.Номенклатура",
   "value": "26093579-c180-11e4-a7a9-000d884fd00d"
}
// Тип данных "ПустаяСсылка"
{
   "type": "Справочник.Номенклатура",
   "value": "00000000-0000-0000-0000-000000000000"
}
```

#### Перечисление
Значение перечисления 1С кодируется аналогично типу данных "Ссылка",
но с той лишь разницей, что в качестве уникального идентифкатора
значения используется перечисление строковых значений.
```json
{
   "type": "Перечисление.СтавкиНДС",
   "value": "НДС_20"
}
```

#### Ссылочный объект
Объект ссылочного типа данных кодируется как объект JSON (object).
Эти объекты могут иметь табличные части, выраженные как массивы JSON (array).
Значениями таких массивов являются записи, представленные виде объектов JSON.

Ссылочные объекты имеют предопределённые платформой 1С свойства (общие реквизиты).
Например, реквизит "Ссылка" присутствует у всех объектов ссылочного типа.
Значением этого свойства является уникальный идентификатор элемента данного типа.
```json
{
   "Ссылка": "26093579-c180-11e4-a7a9-000d884fd00d",
   "Код": "ЦБ000123",
   "Наименование": "Это элемент (объект) ссылочного типа"
}
```

#### Набор записей
Набор записей регистра кодируется как объект JSON (object),
имеющий два свойства "Отбор" и "Строки" (записи набора).

Свойство "Отбор" кодируется как объект JSON.

Свойство "Строки" кодируется как массив объектов JSON.
```json
{
   "Отбор":
   {
      "Период": "2022-01-01 00:00:00",
      "Валюта":
      {
         "type": "Справочник.Валюты"
         "value": "26093579-c180-11e4-a7a9-000d884fd00d"
      }
   },
   "Строки":
   [
      {
         "Период": "2022-01-01 00:00:00",
         "Валюта":
         {
            "type": "Справочник.Валюты"
            "value": "26093579-c180-11e4-a7a9-000d884fd00d"
         },
         "Курс": 1.23
      }
   ]
}
```

#### Составной тип
Составной тип данных кодируется аналогично типу данных "Ссылка" или "Перечисление".

Значениями свойства "type" могут быть:
- boolean - Булево
- number - Число
- string - Строка
- datetime - Дата
- uuid - УникальныйИдентификатор
- binary - Бинарные данные
- имя типа, например, Справочник.Номенклатура
```json
// Пример для примитивного типа
{
   "type": "boolean",
   "value": true
}
// Пример для ссылочного типа
{
   "type": "Справочник.Номенклатура",
   "value": "26093579-c180-11e4-a7a9-000d884fd00d"
}
```

В случае отсутствия значения составного типа его значением является Неопределенно.
```json
{
   "ИмяСвойства": null
}
```